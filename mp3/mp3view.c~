#include <stdio.h>
#include "check.h"
#include "mp3view.h"
#include <string.h>
#include <stdlib.h>


Status do_display(View *view)
{
    fseek(view->fptr,10,SEEK_SET);
    if(read_tag(view) == e_success)
    {
	printf("Name	:	");
	if(song_name(view) == e_success)
	{

	}
    }
}

Status song_name(View *view)
{
    char ch[view->data];
    fseek(view->fptr, 3, SEEK_CUR);
    fread(ch,1,view->data,view->fptr);

    printf("%s\n",ch);
}

Status read_tag(View *view)
{
	char ch[4];
	fread(ch,1,4,view->fptr);
	if(strcmp(ch,"TIT2") == 0 )
	{
	    int size,size1;
	    fread(&size, 1, 4,view->fptr);
	    get_size(&size,&size1,sizeof(int));
	    view->data = size1;
	}
	return e_success;

}

Status get_size(void *num, void *num1,int size)
{
    for(int i=0; i<size; i++)
    {
	*(char *)(num1 + i) = *(char *) (num + (size-1-i));
    }
}
